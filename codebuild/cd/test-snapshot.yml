version: 0.2
#this buildspec assumes the ubuntu 14.04 trusty image
# This job is responsible for artifacting the JAR which will have all of the other shared libs stuffed
# into it once all platforms are built and artifacted
phases:
  install:
    commands:
      

  pre_build:
    commands:
      - cd aws-crt-dotnet
      - export CRT_VERSION=$(git describe --abbrev=0 | sed -e s/^v//)

  build:
    commands:
      # Verify that the package can be found on nuget.org
      - cd /tmp
      - curl -sL "https://www.nuget.org/packages/AWSCRT/${CRT_VERSION}-rc"
      - curl -sL "https://www.nuget.org/packages/AWSCRT-HTTP/${CRT_VERSION}-rc"

  post_build:
    commands:
      - echo Build completed on `date`
